<ion-content>
  <ion-card *ngFor="let r of recetas">

      <ion-item lines="none">
        <ion-avatar>
          <ion-img alt="Avatar de usuario" [src]="'https://ionicframework.com/docs/img/demos/avatar.svg'" />
        </ion-avatar>
        <ion-label class="user-label">{{ usuario?.nombre }}</ion-label>
      </ion-item>

    <ion-item>
      <ion-img [alt]="r.nombre_receta" [src]="r.imagen_ref" />
    </ion-item>
    <ion-card-header>
      <ion-card-title>{{ r.nombre_receta }}</ion-card-title>
      <ion-card-subtitle>{{ r.descripcion }}</ion-card-subtitle>
    </ion-card-header>

    <ion-card-content>
      <!-- Acordeón de ingredientes -->
      <ion-accordion-group *ngIf="r.ingredientes?.length">
        <ion-accordion value="ingredientes">
          <ion-item slot="header">
            <ion-label>Ingredientes</ion-label>
          </ion-item>
          <ion-list slot="content">
            <ion-item *ngFor="let ing of r.ingredientes">
              <ion-label>{{ ing.nombre }} - {{ ing.cantidades }}</ion-label>
            </ion-item>
          </ion-list>
        </ion-accordion>
      </ion-accordion-group>

      <!-- Botón para cargar los ingredientes si no están disponibles -->
      <ion-button *ngIf="!r.ingredientes?.length" (click)="listarIngredientesIdReceta(r.id, r)">
        Cargar Ingredientes
      </ion-button>
    </ion-card-content>
  </ion-card>
</ion-content>
